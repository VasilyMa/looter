# üî´ Looter ‚Äî Multiplayer Action Shooter (Unity + ECS + Fusion)

> **–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–Ω–æ–≥–æ loot-—à—É—Ç–µ—Ä–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LeoECS, Photon Fusion –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ UI.**

---

## üß† –û–ø–∏—Å–∞–Ω–∏–µ

**Looter** ‚Äî —ç—Ç–æ –¥–µ–º–æ-–ø—Ä–æ–µ–∫—Ç/–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —à–∞–±–ª–æ–Ω, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π:
- –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—É—é ECS-–ª–æ–≥–∏–∫—É,
- –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –∏–≥—Ä–æ–∫–∞ –∏ —Å–æ–±—ã—Ç–∏–π,
- –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–µ–π—Å—Ç–≤–∏–π (`Actions`) –∏ —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π,
- —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –ø–æ UI –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∫–∞–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏—è –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–µ–≥–æ –æ–ø—ã—Ç–∞ Unity-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –≥–¥–µ –∫–∞–∂–¥–∞—è –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ —Ç—â–∞—Ç–µ–ª—å–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∞, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ ECS-—Å—Ä–µ–¥—É.

---

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### üìå –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
- `PhotonInitializer` ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º, –º–∞—Ç—á–º–µ–π–∫–∏–Ω–≥–æ–º –∏ –∑–∞–ø—É—Å–∫–æ–º `PhotonRunner`.

### üîÄ –ú–æ—Å—Ç –º–µ–∂–¥—É –º–∏—Ä–æ–º –∏ —Å–µ—Ç—å—é
- `PhotonRunHandler` ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä —Å–æ–±—ã—Ç–∏–π –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏ —Ö–æ—Å—Ç–æ–º.
- `EcsRunHandler` ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –ª–æ–≥–∏–∫—É, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é, UI, —ç—Ñ—Ñ–µ–∫—Ç—ã.
- `ClientRunHandler : EcsRunHandler` ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –ª–æ–≥–∏–∫—É, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é, UI, —ç—Ñ—Ñ–µ–∫—Ç—ã.
- `ServerRunHandler : EcsRunHandler` ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏—Ç–∞—Ç–∏–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞: –±–æ–µ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ø–∞–¥–∞–Ω–∏–π, –≤—ã–±–æ—Ä —Ü–µ–ª–µ–π.

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞           | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è              | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                      |
|----------------------|-------------------------|-----------------------------------------------------------------|
| ECS —è–¥—Ä–æ             | [LeoECS Lite](https://github.com/Leopotam/ecs) | –í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö                      |
| –°–µ—Ç–µ–≤–∞—è –º–æ–¥–µ–ª—å       | [Photon Fusion](https://doc.photonengine.com/fusion) | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å rollback, prediction, snapshot                 |
| –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è         | [MemoryPack](https://github.com/Cysharp/MemoryPack) | ‚ö° Zero-alloc —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è RPC/—Å–µ—Ç–µ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π             |
| UI-–º–æ–¥—É–ª—å            | –ö–∞—Å—Ç–æ–º–Ω—ã–π MVVM UI       | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–æ–π UI —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ ECS –∏ —Å–æ–±—ã—Ç–∏—è–º             |
| –ê–¥—Ä–µ—Å—É–µ–º—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç   | Unity Addressables      | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∞—Å—Å–µ—Ç–æ–≤ –∏ —Å—Ü–µ–Ω                            |
| –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã   | DoTween                 | Tweening –∏ VFX                                                 |
| Backend              | PlayFab                 | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞            |

---

## üîß –ú–µ—Ö–∞–Ω–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### üéÆ –î–∂–æ–π—Å—Ç–∏–∫–∏

- **–õ–µ–≤—ã–π –¥–∂–æ–π—Å—Ç–∏–∫** ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (—Å –ø–æ–ª–Ω–æ–π —Å–µ—Ç–µ–≤–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π).
- **–ü—Ä–∞–≤—ã–π –¥–∂–æ–π—Å—Ç–∏–∫** ‚Äî –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è (—ç–∫—à–µ–Ω–∞).

### ‚öîÔ∏è –≠–∫—à–µ–Ω—ã (Actions)
–õ—é–±–æ–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä:
- –°—Ç—Ä–µ–ª—å–±–∞ –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –æ—Ä—É–∂–∏—è
- –ì—Ä–∞–Ω–∞—Ç–∞
- –ë–∞—Ä—å–µ—Ä
- –£–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

–†–µ–∞–ª–∏–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑:
- `IActionComponent`
- –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª:
  - `PreRequest` ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π
  - `Request` ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞
  - `Resolve` ‚Üí –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

–ï—Å–ª–∏ —É—Å–ª–æ–≤–∏—è –Ω–µ —Å–æ–±–ª—é–¥–µ–Ω—ã ‚Äî –æ—Ç–∫–∞—Ç –æ–±—Ä–∞—Ç–Ω–æ –∫ –±–∞–∑–æ–≤–æ–π –∞—Ç–∞–∫–µ.

---

## üì° –°–µ—Ç–µ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è

### üîÉ –ü–æ—Ç–æ–∫–∏ —Å–æ–±—ã—Ç–∏–π
...
- `RunRequestSystem<T>` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –≤ —Ä–∞–º–∫–∞—Ö ECS
- `RunReceiveSystem<T>` ‚Äî –ø—Ä–∏—ë–º, –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è.
- `RunSendSystem<T>` ‚Äî —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Å–µ—Ç—å.
- `DelHere<T>` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –≤ –∫–æ–Ω—Ü–µ —Ü–∏–∫–ª–∞.
...
### üì¶ MemoryPack
–í—Å–µ –≤–∞–∂–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (`ShootEvent`, `HitPacket`, `AbilityTriggerData` –∏ —Ç.–¥.) –∏—Å–ø–æ–ª—å–∑—É—é—Ç **MemoryPack**:
- –ë—ã—Å—Ç—Ä–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- –ù—É–ª–µ–≤–∞—è –∞–ª–ª–æ–∫–∞—Ü–∏—è
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è Fusion RPC

---

## üß© ECS-–≥—Ä—É–ø–ø—ã

| –ì—Ä—É–ø–ø–∞           | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                             |
|------------------|-----------------------------------------|
| `_commonSystems` | –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ (–¥–≤–∏–∂–µ–Ω–∏–µ, —Å—Ç—Ä–µ–ª—å–±–∞, —Ü–µ–ª–∏, —ç–∫—à–µ–Ω—ã) |
| `_requestSystems`| –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–µ—Ç–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è |
| `_sendSystems`   | –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–µ—Ç—å                  |
| `_receiveSystems`| –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö  |
| `_syncUpdateSystems` | –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∞–ø–¥–µ–π—Ç—ã  |

---

## üí° –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω–∞—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∏ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞**  
‚úÖ **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞ —Å—á—ë—Ç MemoryPack –∏ LeoECS**  
‚úÖ **–£–¥–æ–±–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞ —Å—á—ë—Ç –º–æ–¥—É–ª—å–Ω–æ–π ECS-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã**  
‚úÖ **–ü–æ–Ω—è—Ç–Ω—ã–π –∏ –≥–∏–±–∫–∏–π –ø–æ–¥—Ö–æ–¥ –∫ –¥–µ–π—Å—Ç–≤–∏—è–º –∏ –∏—Ö –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Input**  
‚úÖ **–ö–∞—Å—Ç–æ–º–Ω—ã–π UI —Å MVVM –∏ —Å–æ–±—ã—Ç–∏–π–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π**  
‚úÖ **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞–º–∏ —á–µ—Ä–µ–∑ Addressables**

---

---

## üìå –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

> –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
> - Unity 2022.3+
> - –ü–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–π Fusion SDK
> - –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π PlayFab SDK

1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Unity
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ PlayFab –∏ Fusion App ID
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `InitScene`, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –º–∞—Ç—á

---

## üë§ –ê–≤—Ç–æ—Ä

**Vasily Ma**  
Unity Developer | ECS Enthusiast | Multiplayer Systems Architect

---

## üß™ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω—ã—Ö –±–æ–µ–≤—ã—Ö —ç–∫—à–µ–Ω–æ–≤ (–≤–∫–ª—é—á–∞—è —É–ª—å—Ç—ã)
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ª—É—Ç –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–∞—Ç—á–º–µ–π–∫–∏–Ω–≥ –ø—Ä–∞–≤–∏–ª–∞ —á–µ—Ä–µ–∑ PlayFab
- –ê–≤—Ç–æ—Ä–∏—Ç–∞—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–∞ (Dedicated Fusion Mode)

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT (–∏–ª–∏ —É–∫–∞–∂–∏ —Å–≤–æ—é)

---

